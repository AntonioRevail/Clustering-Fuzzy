import matplotlib
import pandas as pd
import matplotlib.colors as colors
import numpy as np
import matplotlib.pyplot as plt

###############################################

def truncate_colormap(cmap, minval=0.0, maxval=1.0, n=100):
    new_cmap = colors.LinearSegmentedColormap.from_list(
        'trunc({n},{a:.2f},{b:.2f})'.format(n=cmap.name, a=minval, b=maxval),
        cmap(np.linspace(minval, maxval, n)))
    return new_cmap


cmap = plt.get_cmap('Blues')
new_cmap = truncate_colormap(cmap, 0.2, 1.0)

##############################################


years = ["${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$"
        ,"${L.arabica}$","${L.arabica}$","${L.arabica}$","${L.arabica}$","${L.arabica}$"
        ,"${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$"
        ,"${L.donovani}$","${L.donovani}$","${L.donovani}$","${L.donovani}$","${L.donovani}$"
        ,"${L.enriettii}$","${L.enriettii}$","${L.enriettii}$","${L.enriettii}$","${L.enriettii}$"
        ,"${L.infantum}$","${L.infantum}$","${L.infantum}$","${L.infantum}$","${L.infantum}$"
        ,"${L.major}$","${L.major}$","${L.major}$","${L.major}$","${L.major}$"
        ,"${L.mexicana}$","${L.mexicana}$","${L.mexicana}$","${L.mexicana}$","${L.mexicana}$"
        ,"${L.panamensis}$","${L.panamensis}$","${L.panamensis}$","${L.panamensis}$","${L.panamensis}$"
        ,"${L.peruviana}$","${L.peruviana}$","${L.peruviana}$","${L.peruviana}$","${L.peruviana}$"]


data = {"Cluster1":[0.0015957008,0.0139136356,0.002376608,0.0069214686,0.0088438772,0.0012423647,0.0092564687,0.0017647904,0.0026216083,0.0127903451,0.9748903429,0.8745204334,0.9195819196,0.8708061192,0.8768448359,0.0021045268,0.0125715446,0.0098561882,0.0077986078,0.0088049217,0.0018998453,0.0040080529,0.0112391155,0.0074143141,0.0146171268,0.0019011367,0.0085577104,0.0108455919,0.0050578056,0.0117343721,0.0014082791,0.0083239077,0.0080475353,0.0036340148,0.0066050969,0.001047341,0.00529037,0.0078575048,0.0065432611,0.0011532766,0.002479686,0.0184425665,0.0040680384,0.0200609798,0.0070117907,0.0004494948,0.0004494948,0.0049618726,0.0011033461,0.0023135239],
        "Cluster2":[0.0018616499,0.0160996973,0.0027710926,0.0080460778,0.0102684207,0.0013503215,0.0100213205,0.0019175903,0.002847409,0.0138236204,0.0027631998,0.0138012266,0.0088479337,0.0142085559,0.0135454324,0.002107635,0.0125433321,0.0098427314,0.0077934281,0.0087971881,0.9831526295,0.964461842,0.9003655467,0.9342698188,0.8704466429,0.0019363199,0.0086928485,0.0110076148,0.0051446367,0.0119044733,0.0018444946,0.0108207642,0.0104664652,0.0047481764,0.0086042632,0.0013864912,0.0069714238,0.0103275982,0.008611315,0.0015265615,0.0014279474,0.0107077512,0.0023445535,0.0116588467,0.0040471623,0.000393666,0.000393666,0.0043436989,0.0009662364,0.0020257571],
        "Cluster3":[0.0016172333,0.0140813104,0.0024083663,0.0070098205,0.0089556343,0.0012514005,0.0093160141,0.0017775225,0.0026402888,0.0128684136,0.0051124856,0.0251397301,0.0162236051,0.0258663483,0.0246835172,0.0020925158,0.0124886183,0.0097923247,0.0077498019,0.0087496143,0.0020211009,0.0042620181,0.0119354187,0.0078790802,0.0155145532,0.0018780232,0.0084489537,0.0107059577,0.0049951806,0.0115830365,0.0014555281,0.0085924457,0.0083079386,0.0037544615,0.006820687,0.0011041565,0.0055723797,0.0082726012,0.006889979,0.0012158167,0.9876810866,0.9074709249,0.9797704437,0.899235961,0.9650682683,0.000431299,0.000431299,0.0047604886,0.0010586585,0.0022197261],
        "Cluster4":[0.0010432521,0.0091634277,0.0015544769,0.0045393171,0.0058071976,0.0008235578,0.0061644939,0.0011702333,0.0017392108,0.0085363743,0.0016660144,0.0084275564,0.0053727297,0.0086813181,0.0082694634,0.0013439603,0.0080870507,0.0063284269,0.0049998397,0.0056501409,0.0015197426,0.0032082179,0.0090190931,0.0059410819,0.0117401221,0.001245522,0.0056315527,0.0071473707,0.0033204977,0.0077364981,0.0062730761,0.0355307507,0.0344028944,0.0159588944,0.0284869675,0.9861505922,0.930733181,0.8976851554,0.9145634451,0.9847536123,0.0008552569,0.0064745828,0.0014055677,0.0070564477,0.0024304866,0.0002461725,0.0002461725,0.0027279045,0.0006045876,0.0012690803],
        "Cluster5":[0.0020328722,0.0175957662,0.0030262135,0.008788111,0.011217849,0.987885059,0.9100067731,0.9827940879,0.9744486692,0.8758113657,0.0028417835,0.0142227553,0.0091097155,0.0146438998,0.0139582822,0.003358214,0.0197948083,0.0155736443,0.0123518363,0.0139283366,0.0021256828,0.0044816869,0.0125417993,0.0082817569,0.0162934951,0.0031936536,0.014238246,0.0179874172,0.0084571475,0.0194355609,0.0017050702,0.0100384233,0.0097080384,0.0043943977,0.0079749566,0.001182391,0.0059630716,0.0088491435,0.0073711568,0.0013019311,0.0013917751,0.0104611934,0.0022856683,0.011393441,0.0039475944,0.0003764155,0.0003764155,0.0041588556,0.0009240665,0.0019379894],
        "Cluster6":[0.0012386343,0.010865683,0.0018454793,0.0053865718,0.0068891137,0.0009244452,0.0069173942,0.0013135604,0.0019522244,0.009575424,0.0025206555,0.0126872937,0.0081055092,0.0130649443,0.0124499879,0.0015769931,0.0094778821,0.00741929,0.0058633028,0.0066244459,0.0015226237,0.0032150446,0.0090421537,0.005955885,0.0117761195,0.0014409865,0.0065112044,0.0082619701,0.003840631,0.008944067,0.0011469693,0.0068018245,0.0065761085,0.0029630845,0.0053936363,0.0008675963,0.0043903857,0.0065284652,0.0054335827,0.0009553996,0.0011778283,0.0088939733,0.0019352157,0.00968987,0.003344823,0.996702073,0.996702073,0.9635606627,0.991903767,0.9830195331],
        "Cluster7":[0.0019458426,0.0168839054,0.0028969462,0.0084216575,0.0107516678,0.0020404421,0.0150696097,0.0028967777,0.0042992401,0.0207433487,0.0027806835,0.0139387845,0.008921336,0.0143535863,0.0136794757,0.008055191,0.0455928537,0.0362250015,0.0289624956,0.0325322418,0.0019485861,0.0041101947,0.011521066,0.0076013567,0.0149798889,0.9773235632,0.8992121637,0.8727975323,0.940048228,0.8625944064,0.0015703336,0.0092655636,0.0089589701,0.0040499286,0.0073561237,0.0011443533,0.0057749337,0.0085745872,0.0071409139,0.0012600694,0.0013359146,0.0100556729,0.0021942493,0.0109541598,0.0037905163,0.0003756097,0.0003756097,0.004151374,0.0009221423,0.001934167],
        "Cluster8":[0.0019775728,0.0171502808,0.0029441372,0.0085564587,0.0109240683,0.0019605953,0.0144910649,0.0027835856,0.0041315913,0.019954765,0.0028128217,0.0140953666,0.0090225239,0.0145150585,0.0138333586,0.9752272662,0.8548028289,0.885631582,0.9091823447,0.8976411255,0.0019379348,0.0040877698,0.0114585951,0.0075598563,0.0148980461,0.007357352,0.0319683978,0.0400437258,0.0192368915,0.0431321713,0.0015877268,0.0093665204,0.0090558068,0.0040945021,0.0074364426,0.0011284936,0.0056954527,0.0084568323,0.0070427019,0.0012426122,0.0013600104,0.0102339788,0.002233695,0.0111480168,0.0038586018,0.0003756475,0.0003756475,0.0041517425,0.0009222449,0.0019343204],
        "Cluster9":[0.9855315307,0.874107144,0.9784547671,0.9373045809,0.9199137781,0.0016115857,0.011948199,0.0022885239,0.0033977505,0.0164718962,0.0028943133,0.0144797913,0.0092760588,0.0149118539,0.0142114157,0.0026840069,0.0159243435,0.0125080601,0.0099076931,0.0111804532,0.0023225669,0.0048947299,0.0136833928,0.0090405803,0.017766421,0.00241306,0.010815832,0.0136864735,0.0064060508,0.0147998506,0.0017167033,0.0101071823,0.0097742265,0.0044241696,0.0080289419,0.0011877736,0.0059898593,0.0088889934,0.0074046368,0.0013078709,0.0014260939,0.0107152802,0.0023419691,0.011670071,0.0040442731,0.0003999886,0.0003999886,0.0044171237,0.0009818605,0.0020590194],
        "Cluster10":[0.0011557113,0.0101391495,0.0017219128,0.0050259359,0.0064283933,0.0009102281,0.0068086618,0.0012933282,0.0019220077,0.009424447,0.0017177,0.0086870621,0.0055386683,0.0089483158,0.0085242311,0.001449691,0.0087167378,0.0068227509,0.00539065,0.0060915321,0.0015492873,0.0032704431,0.009193819,0.00605627,0.0119675843,0.001310383,0.0059230907,0.007516346,0.0034929305,0.0081355637,0.981291819,0.8911526175,0.8947020164,0.9519783703,0.9132928841,0.0048008113,0.0236189425,0.0345591187,0.0289990075,0.0052828496,0.0008644008,0.006544076,0.0014205993,0.0071322061,0.0024564833,0.0002496335,0.0002496335,0.0027662769,0.0006130902,0.0012868834]}


df=pd.DataFrame(data,index=years)

df.plot(kind="bar",stacked=True,figsize=(50,51),cmap=new_cmap)

plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0.)

plt.title('Fuzzy Distribution with 10 Clusters')
plt.show()
