import matplotlib
import pandas as pd
import matplotlib.colors as colors
import numpy as np
import matplotlib.pyplot as plt

###############################################

def truncate_colormap(cmap, minval=0.0, maxval=1.0, n=100):
    new_cmap = colors.LinearSegmentedColormap.from_list(
        'trunc({n},{a:.2f},{b:.2f})'.format(n=cmap.name, a=minval, b=maxval),
        cmap(np.linspace(minval, maxval, n)))
    return new_cmap


cmap = plt.get_cmap('Blues')
new_cmap = truncate_colormap(cmap, 0.2, 1.0)

##############################################


                    
years = ["${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$","${L.aethiopica}$"
        ,"${L.arabica}$","${L.arabica}$","${L.arabica}$","${L.arabica}$","${L.arabica}$"
        ,"${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$","${L.braziliensis}$"
        ,"${L.donovani}$","${L.donovani}$","${L.donovani}$","${L.donovani}$","${L.donovani}$"
        ,"${L.enriettii}$","${L.enriettii}$","${L.enriettii}$","${L.enriettii}$","${L.enriettii}$"
        ,"${L.infantum}$","${L.infantum}$","${L.infantum}$","${L.infantum}$","${L.infantum}$"
        ,"${L.major}$","${L.major}$","${L.major}$","${L.major}$","${L.major}$"
        ,"${L.mexicana}$","${L.mexicana}$","${L.mexicana}$","${L.mexicana}$","${L.mexicana}$"
        ,"${L.panamensis}$","${L.panamensis}$","${L.panamensis}$","${L.panamensis}$","${L.panamensis}$"
        ,"${L.peruviana}$","${L.peruviana}$","${L.peruviana}$","${L.peruviana}$","${L.peruviana}$"]

        

data = {"Cluster1":[0.002823538,0.015929514,0.003665983,0.008519494,0.010558704,0.002534832,0.011004375,0.003093553,0.004006986,0.01472254,0.26733422,0.262789198,0.264733464,0.262603724,0.262897333,0.077134463,0.081028311,0.080055519,0.079313615,0.079686122,0.003142492,0.005515018,0.013539056,0.009309247,0.01727991,0.018791351,0.025132292,0.027236485,0.021866378,0.028050513,0.069284451,0.072218885,0.072114494,0.07026435,0.071511581,0.017455919,0.021632138,0.024073114,0.022826075,0.017562864,0.972296043,0.920932666,0.967167811,0.915661958,0.95768732,0.000848228,0.000848228,0.005340143,0.001500746,0.002707324],
        "Cluster2":[0.001894672,0.010782328,0.002461349,0.005738579,0.007121699,0.001733191,0.007565305,0.002115991,0.002742306,0.010146378,0.079624105,0.080851305,0.080318215,0.080901048,0.080826804,0.050857758,0.053870618,0.053116748,0.052531822,0.052829327,0.002433911,0.004275971,0.010537719,0.00723,0.013467941,0.012734187,0.017118554,0.018581962,0.014853002,0.019146354,0.551081105,0.532905047,0.533516297,0.54499426,0.537235642,0.891507075,0.865644497,0.850535592,0.858251885,0.890844408,0.003152472,0.009052347,0.003738293,0.009661541,0.004822928,0.000488239,0.000488239,0.003086289,0.000864324,0.001561007],
        "Cluster3":[0.002104146,0.011964421,0.002733374,0.006370907,0.007904724,0.00182086,0.007947505,0.002223014,0.002881098,0.010656559,0.116655186,0.117857158,0.117330425,0.11789031,0.117827539,0.056386547,0.059671939,0.058851805,0.058218208,0.058535818,0.002312387,0.00406369,0.010020607,0.00687417,0.012814713,0.014002322,0.018813946,0.02041893,0.016329125,0.021042233,0.053695482,0.05622735,0.056142028,0.054539178,0.055618194,0.013521492,0.016802007,0.018728609,0.01774598,0.013605279,0.004194826,0.01201456,0.0049731,0.012818549,0.006413072,0.995647918,0.995647918,0.972575581,0.992299005,0.986104072],
        "Cluster4":[0.003542764,0.019897718,0.00459825,0.010668743,0.01321117,0.004329657,0.018626289,0.005280827,0.00683361,0.024821268,0.13668149,0.137402003,0.137090552,0.137437086,0.137384763,0.516990553,0.494238543,0.499837892,0.504243486,0.502044881,0.003113537,0.005465291,0.013426714,0.009227881,0.017139112,0.879639102,0.839422525,0.826127021,0.860119604,0.821002552,0.076556526,0.079739811,0.079625184,0.077620089,0.078975149,0.018400467,0.022799465,0.025374676,0.024058697,0.018513038,0.005040736,0.014382929,0.005973618,0.015342648,0.007698423,0.000750247,0.000750247,0.004729458,0.001327645,0.00239585],
        "Cluster5":[0.003195455,0.017907856,0.004147011,0.009614474,0.011903164,0.00268961,0.011641229,0.003281708,0.004249347,0.015553789,0.129499844,0.129796205,0.129681534,0.129799939,0.129786854,0.076351893,0.079993061,0.079089347,0.078391453,0.078746312,0.98216398,0.968691884,0.92308127,0.947136167,0.901813782,0.019040657,0.025414532,0.027524766,0.022133444,0.028336038,0.087371831,0.090497838,0.090401917,0.088426507,0.089767116,0.021807348,0.026923656,0.029897427,0.02838116,0.021938897,0.0051388,0.014613602,0.00608791,0.015581777,0.007840441,0.000760794,0.000760794,0.004788559,0.001346,0.002428002],
        "Cluster6":[0.982933219,0.903854268,0.977843394,0.948536541,0.936235029,0.003222375,0.013931535,0.003931579,0.005090096,0.018602013,0.136323536,0.136849381,0.13663124,0.13689673,0.136839796,0.098071247,0.102404878,0.101354114,0.100503878,0.100926364,0.003565521,0.006253622,0.015325982,0.010546587,0.019538564,0.023886722,0.031826941,0.034444061,0.027741812,0.035454402,0.081256258,0.08446729,0.084360211,0.082330089,0.083702352,0.018690103,0.023143306,0.025744558,0.024415301,0.018804324,0.005148246,0.014669363,0.006100277,0.015645237,0.007859384,0.000774469,0.000774469,0.004878588,0.001370339,0.002472499],
        "Cluster7":[0.003506206,0.019663894,0.00455064,0.010551261,0.013065509,0.983669476,0.929283764,0.980073328,0.974196557,0.905497453,0.13388162,0.13445475,0.13421457,0.134471163,0.134436911,0.12420754,0.12879265,0.127694574,0.126797539,0.127231177,0.003268171,0.005734524,0.014068652,0.009675948,0.017945978,0.031905659,0.04227121,0.045666775,0.036956635,0.046967909,0.080754348,0.08394378,0.083839869,0.081825527,0.083189967,0.018617596,0.02305493,0.025646022,0.024320902,0.018731191,0.005028878,0.014334534,0.005958991,0.01528829,0.007678432,0.000730105,0.000730105,0.004601382,0.001291941,0.002331246]}


df=pd.DataFrame(data,index=years)

df.plot(kind="bar",stacked=True,figsize=(50,51),cmap=new_cmap)

plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0.)

plt.title('Fuzzy Distribution with 7 Clusters')
plt.show()
